<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="songlh">







<title>ã€ç¿»ã€‘SOLID Principles in JavaScript | LH&#39;BLOG</title>



    <link rel="icon" href="/favicon.png">



<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Roboto+Mono&display=swap');
</style>



    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    




    <!-- scripts list from _config.yml -->
    
    <script src="/js/frame.js"></script>
    










  <meta name="generator" content="Hexo 6.2.0"></head>
  <body>
    <div class="mask-border">
    </div>

    <div class="wrapper">

      <div class="header">
  <div class="flex-container">
    <div class="header-inner">
      <div class="site-brand-container">
        <a href="/">
          
            <img loading="lazy" class="logo-img" src="/logo.png" alt="logo_image">
          
        </a>
      </div>
      <div id="menu-btn" class="menu-btn" onclick="toggleMenu()">
        Menu
      </div>
      <nav class="site-nav">
        <ul class="menu-list">
          
            
              <li class="menu-item">
                <a href="/">Home</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/categories/gallery/">Posts</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/tags/Translate/">Translate</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/archives/">Archive</a>
              </li> 
                   
          
            
              <li class="menu-item">
                <a href="/about/">About</a>
              </li> 
                   
          
          
            <li class="menu-item search-btn">
              <a href="#">Search</a>
            </li>
          
        </ul>
      </nav>
    </div>
  </div>
</div>


      <div class="main">
        <div class="flex-container">
          <article id="post">

  
    <div class="post-head">
    <div class="post-info">
        <div class="tag-list">
            
                
                    <span class="post-tag">
                        <a href="/tags/Translate/">
                            Translate
                        </a>
                    </span>    
                
                    <span class="post-tag">
                        <a href="/tags/JavaScript/">
                            JavaScript
                        </a>
                    </span>    
                           
            
        </div>
        <div class="post-title">
            
            
                ã€ç¿»ã€‘SOLID Principles in JavaScript
            
            
        </div>
        <span class="post-date">
            6æœˆ 2, 2023
        </span>
    </div>
    <div class="post-img">
        
            <div class="h-line-primary"></div>
              
    </div>
</div>
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.6.0/styles/base16/gruvbox-light-medium.min.css">
<script src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.6.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>

<div class="post-content">
    <blockquote>
<p>ä¸ºäº†æé«˜è‹±è¯­æ°´å¹³å’Œä¿æŒæŠ€æœ¯æˆé•¿ï¼Œå¼€å§‹æŒ‰è®¡åˆ’ç¿»è¯‘ä¸€äº›çŸ­ç¯‡å’Œåšå®¢ï¼Œæœ‰é—®é¢˜æ¬¢è¿è®¨è®ºğŸ‘»<br>åŸæ–‡ï¼š<a target="_blank" rel="noopener" href="https://medium.com/@akashjha9041/solid-principles-in-javascript-ab69197e4cf7">SOLID Principles in JavaScript</a></p>
</blockquote>
<h1 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h1><p>SOLIDåŸåˆ™æ˜¯ç”±Robert C. Martinæå‡ºçš„ä¸€å¥—è½¯ä»¶è®¾è®¡åŸåˆ™ã€‚è¿™äº›åŸåˆ™æŒ‡å¯¼å¼€å‘äººå‘˜æ„å»ºå‡ºå¥å£®çš„ã€å¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶å°†ç»´æŠ¤çš„æˆæœ¬é™åˆ°æœ€ä½ã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•åœ¨JavaScriptä¸­ä½¿ç”¨è¿™äº›åŸåˆ™ï¼Œå¹¶ä¼šå±•ç¤ºä¸€äº›ä»£ç ç¤ºä¾‹</p>
<p><img src="https://miro.medium.com/v2/resize:fit:1400/0*b8uhCfoR8YgDFc58"></p>
<p>SOLIDåŸåˆ™æ˜¯ç”±Robert C. Martin. â€œBobå”å”â€ æå‡ºçš„ä¸€å¥—è½¯ä»¶è®¾è®¡åŸåˆ™ã€‚è¿™äº›åŸåˆ™æŒ‡å¯¼å¼€å‘äººå‘˜æ„å»ºå‡ºå¥å£®çš„ã€å¯ç»´æŠ¤çš„åº”ç”¨ç¨‹åºï¼ŒåŒæ—¶å°†ç»´æŠ¤çš„æˆæœ¬é™åˆ°æœ€ä½ã€‚</p>
<p>å°½ç®¡SOLIDåŸåˆ™ç»å¸¸è¢«ç”¨äºé¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼Œä½†æˆ‘ä»¬å¯ä»¥å°†å…¶ç”¨äºå…¶ä»–è¯­è¨€ï¼Œæ¯”å¦‚JavaScriptã€‚åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•åœ¨JavaScriptä¸­ä½¿ç”¨è¿™äº›åŸåˆ™ï¼Œå¹¶ä¼šå±•ç¤ºä¸€äº›ä»£ç ç¤ºä¾‹</p>
<h2 id="What-are-the-SOLID-principles"><a href="#What-are-the-SOLID-principles" class="headerlink" title="What are the SOLID principles?"></a>What are the SOLID principles?</h2><ul>
<li>Single responsibility principleï¼ˆå•ä¸€èŒè´£åŸåˆ™ï¼‰</li>
<li>Open-closed principleï¼ˆå¼€é—­åŸåˆ™ï¼‰</li>
<li>Liskov substitution principleï¼ˆé‡Œå¼æ›¿æ¢åŸåˆ™ï¼‰</li>
<li>Interface segregation principleï¼ˆæ¥å£åˆ†ç¦»åŸåˆ™ï¼‰</li>
<li>Dependency inversion principleï¼ˆä¾èµ–å€’ç½®åŸåˆ™ï¼‰</li>
</ul>
<h2 id="Single-responsibility-principle"><a href="#Single-responsibility-principle" class="headerlink" title="Single responsibility principle"></a>Single responsibility principle</h2><p>ä¸€ä¸ªclassï¼Œä¸€ä¸ªmoduleæˆ–è€…ä¸€ä¸ªfunctionåº”è¯¥åªè´Ÿè´£ä¸€ä¸ªè§’è‰²ã€‚æ‰€ä»¥å®ƒåº”è¯¥åªæœ‰ä¸€ä¸ªæ”¹å˜åŸå› ã€‚</p>
<p>å•ä¸€èŒè´£åŸåˆ™æ˜¯SOLIDæœ€ç®€å•çš„åŸåˆ™ä¹‹ä¸€ã€‚ç„¶è€Œï¼Œå¼€å‘è€…ç»å¸¸è¯¯è§£å®ƒã€‚è®¤ä¸ºä¸€ä¸ªæ¨¡å—åº”è¯¥åªåšä¸€ä»¶äº‹ã€‚</p>
<p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥ç†è§£è¿™ä¸ªåŸåˆ™ã€‚ä¸‹é¢çš„JavaScriptä»£ç ç‰‡æ®µæœ‰ä¸€ä¸ªåä¸º ManageEmployee çš„ class å’Œå‡ ä¸ªç®¡ç†é›‡å‘˜çš„ function</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">ManageEmployee</span> &#123;

  <span class="title function_">constructor</span>(<span class="params">private http: HttpClient</span>)
  <span class="variable constant_">SERVER_URL</span> = <span class="string">&#x27;http://localhost:5000/employee&#x27;</span>;

  getEmployee (empId)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">get</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
  &#125;

  updateEmployee (employee)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">put</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;employee.id&#125;</span>`</span>,employee);
  &#125;

  deleteEmployee (empId)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">delete</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
  &#125;

  calculateEmployeeSalary (empId, workingHours)&#123;
    <span class="keyword">var</span> employee = <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">get</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
    <span class="keyword">return</span> employee.<span class="property">rate</span> * workingHours;
  &#125;

&#125;</code></pre>

<p>å‰é¢çš„ä»£ç çœ‹ä¸Šå»å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œå¹¶ä¸”å¾ˆå¤šå¼€å‘è€…éƒ½ä¼šæŒ‰ç…§ç›¸åŒçš„æ–¹æ³•æ¥åšå¹¶ä¸ä¼šæœ‰ä»»ä½•é—®é¢˜ã€‚ç„¶è€Œï¼Œç”±äºå®ƒæ˜¯å¯¹ä¸¤ä¸ªè§’è‰²è´Ÿè´£ï¼Œè¿™æ ·ä»–å°±æœ‰è¿å•ä¸€èŒè´£åŸåˆ™ã€‚<code>getEmployee()</code>ã€<code>updateEmployee()</code>å’Œ<code>deleteEmployee()</code>å‡½æ•°ç›´æ¥ä¸ HR ç®¡ç†æœ‰å…³ï¼Œè€Œ<code>calculateEmployeeSalary()</code>åˆ™ä¸è´¢åŠ¡ç®¡ç†æœ‰å…³ã€‚</p>
<p>å°†æ¥ï¼Œå¦‚æœä½ éœ€è¦ä¸ºHRæˆ–è´¢åŠ¡æ›´æ–°ä¸€ä¸ªåŠŸèƒ½æ—¶ï¼Œä½ å°±å¿…é¡»æ”¹å˜ <code>ManageEmployee class</code> æ¥å½±å“ä¸¤ä¸ªè§’è‰²ï¼Œå› æ­¤ï¼Œ <code>ManageEmployee class</code> è¿åäº†å•ä¸€èŒè´£åŸåˆ™ã€‚ä½ éœ€è¦æŠŠHRå’Œè´¢åŠ¡æœ‰å…³çš„åŠŸèƒ½åˆ†å¼€ï¼Œä½¿ä»£ç ç¬¦åˆå•ä¸€èŒè´£åŸåˆ™ã€‚ä¸‹é¢çš„ä»£ç ç¤ºä¾‹è¯æ˜äº†è¿™ä¸€ç‚¹ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">ManageEmployee</span> &#123;

  <span class="title function_">constructor</span>(<span class="params">private http: HttpClient</span>)
  <span class="variable constant_">SERVER_URL</span> = <span class="string">&#x27;http://localhost:5000/employee&#x27;</span>;

  getEmployee (empId)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">get</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
  &#125;

  updateEmployee (employee)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">put</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;employee.id&#125;</span>`</span>,employee);
  &#125;

  deleteEmployee (empId)&#123;
     <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">delete</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
  &#125;

&#125;

<span class="keyword">class</span> <span class="title class_">ManageSalaries</span> &#123;

  <span class="title function_">constructor</span>(<span class="params">private http: HttpClient</span>)
  <span class="variable constant_">SERVER_URL</span> = <span class="string">&#x27;http://localhost:5000/employee&#x27;</span>;

  calculateEmployeeSalary (empId, workingHours)&#123;
    <span class="keyword">var</span> employee = <span class="variable language_">this</span>.<span class="property">http</span>.<span class="title function_">get</span>(<span class="variable language_">this</span>.<span class="property">SERVER_URL</span> + <span class="string">`/<span class="subst">$&#123;empId&#125;</span>`</span>);
    <span class="keyword">return</span> employee.<span class="property">rate</span> * workingHours;
  &#125;

&#125;</code></pre>

<h2 id="Open-closed-principle"><a href="#Open-closed-principle" class="headerlink" title="Open-closed principle"></a>Open-closed principle</h2><p>Functions, modules, å’Œ classes åº”è¯¥æ˜¯å¯æ‰©å±•çš„ï¼Œä½†ä¸æ˜¯å¯ä¿®æ”¹çš„ã€‚</p>
<p>è¿™æ˜¯å®ç°å¤§å‹åº”ç”¨æ—¶éœ€è¦éµå¾ªçš„ä¸€ä¸ªé‡è¦åŸåˆ™ã€‚æ ¹æ®è¿™ä¸€åŸåˆ™ï¼Œæˆ‘ä»¬åº”è¯¥èƒ½å¤Ÿå¾ˆå®¹æ˜“åœ°ä¸ºåº”ç”¨æ·»åŠ æ–°çš„åŠŸèƒ½ï¼Œä½†åŒæ—¶æˆ‘ä»¬ä¸åº”è¯¥å¯¹ç°æœ‰çš„ä»£ç å¼•å…¥ç ´åå¼ä¿®æ”¹ã€‚</p>
<p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬å®ç°ä¸€ä¸ª <code>calculateSalaries()</code> çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°ä½¿ç”¨ä¸€ä¸ªå¸¦æœ‰å·¥ä½œè§’è‰²å’Œæ—¶è–ªçš„æ•°ç»„æ¥è®¡ç®—å·¥èµ„ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">ManageSalaries</span> &#123;
  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;
    <span class="variable language_">this</span>.<span class="property">salaryRates</span> = [
      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">role</span>: <span class="string">&#x27;developer&#x27;</span>, <span class="attr">rate</span>: <span class="number">100</span> &#125;,
      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">role</span>: <span class="string">&#x27;architect&#x27;</span>, <span class="attr">rate</span>: <span class="number">200</span> &#125;,
      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">role</span>: <span class="string">&#x27;manager&#x27;</span>, <span class="attr">rate</span>: <span class="number">300</span> &#125;,
    ];
  &#125;

  <span class="title function_">calculateSalaries</span>(<span class="params">empId, hoursWorked</span>) &#123;
    <span class="keyword">let</span> salaryObject = <span class="variable language_">this</span>.<span class="property">salaryRates</span>.<span class="title function_">find</span>(<span class="function">(<span class="params">o</span>) =&gt;</span> o.<span class="property">id</span> === empId);
    <span class="keyword">return</span> hoursWorked * salaryObject.<span class="property">rate</span>;
  &#125;
&#125;

<span class="keyword">const</span> mgtSalary = <span class="keyword">new</span> <span class="title class_">ManageSalaries</span>();
<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Salary : &quot;</span>, mgtSalary.<span class="title function_">calculateSalaries</span>(<span class="number">1</span>, <span class="number">100</span>));</code></pre>

<p>ç›´æ¥ä¿®æ”¹ salaryRates æ•°ç»„ä¼šè¿åå¼€é—­åŸåˆ™ã€‚ä¾‹å¦‚ï¼Œä½ éœ€è¦ä¸ºä¸€ä¸ªæ–°è§’è‰²è¿›è¡Œå·¥èµ„è®¡ç®—ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„æ–¹æ³•ï¼Œå°†å·¥èµ„æ·»åŠ åˆ° salaryRates æ•°ç»„ä¸­ï¼Œè€Œä¸æ˜¯å¯¹åŸä»£ç è¿›è¡Œä¿®æ”¹ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">ManageSalaries</span> &#123;
  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;
    <span class="variable language_">this</span>.<span class="property">salaryRates</span> = [
      &#123; <span class="attr">id</span>: <span class="number">1</span>, <span class="attr">role</span>: <span class="string">&#x27;developer&#x27;</span>, <span class="attr">rate</span>: <span class="number">100</span> &#125;,
      &#123; <span class="attr">id</span>: <span class="number">2</span>, <span class="attr">role</span>: <span class="string">&#x27;architect&#x27;</span>, <span class="attr">rate</span>: <span class="number">200</span> &#125;,
      &#123; <span class="attr">id</span>: <span class="number">3</span>, <span class="attr">role</span>: <span class="string">&#x27;manager&#x27;</span>, <span class="attr">rate</span>: <span class="number">300</span> &#125;,
    ];
  &#125;

  <span class="title function_">calculateSalaries</span>(<span class="params">empId, hoursWorked</span>) &#123;
    <span class="keyword">let</span> salaryObject = <span class="variable language_">this</span>.<span class="property">salaryRates</span>.<span class="title function_">find</span>(<span class="function">(<span class="params">o</span>) =&gt;</span> o.<span class="property">id</span> === empId);
    <span class="keyword">return</span> hoursWorked * salaryObject.<span class="property">rate</span>;
  &#125;

  <span class="title function_">addSalaryRate</span>(<span class="params">id, role, rate</span>) &#123;
    <span class="variable language_">this</span>.<span class="property">salaryRates</span>.<span class="title function_">push</span>(&#123; <span class="attr">id</span>: id, <span class="attr">role</span>: role, <span class="attr">rate</span>: rate &#125;);
  &#125;
&#125;

<span class="keyword">const</span> mgtSalary = <span class="keyword">new</span> <span class="title class_">ManageSalaries</span>();
mgtSalary.<span class="title function_">addSalaryRate</span>(<span class="number">4</span>, <span class="string">&#x27;developer&#x27;</span>, <span class="number">250</span>);
<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;Salary : &#x27;</span>, mgtSalary.<span class="title function_">calculateSalaries</span>(<span class="number">4</span>, <span class="number">100</span>));</code></pre>

<h2 id="Liskov-substitution-principle"><a href="#Liskov-substitution-principle" class="headerlink" title="Liskov substitution principle"></a>Liskov substitution principle</h2><p>å‡è®¾P(y)æ˜¯ç±»å‹Açš„å¯¹è±¡yçš„ä¸€ä¸ªå¯è¯æ˜å±æ€§ï¼Œé‚£ä¹ˆå¯¹äºç±»å‹Bçš„å¯¹è±¡xï¼Œå…¶ä¸­Bæ˜¯Açš„å­ç±»å‹ï¼ŒP(x)åº”è¯¥ä¸ºçœŸ</p>
<p>ä½ èƒ½åœ¨ç½‘ä¸Šæ‰¾åˆ°å…³äºé‡Œå¼æ›¿æ¢åŸåˆ™çš„ä¸åŒå®šä¹‰ï¼Œä½†å®ƒä»¬éƒ½æœ‰ç›¸åŒçš„å«ä¹‰ã€‚ç®€å•çš„è¯´ï¼Œé‡Œå¼æ›¿æ¢åŸåˆ™æŒ‡å‡ºï¼Œå¦‚æœçˆ¶ç±»çš„å­ç±»åœ¨åº”ç”¨ä¸­äº§ç”Ÿæ„å¤–è¡Œä¸ºï¼Œæˆ‘ä»¬å°±ä¸åº”è¯¥ç”¨å­ç±»æ›¿æ¢çˆ¶ç±»ã€‚</p>
<p>ä¾‹å¦‚ï¼Œæœ‰ä¸€ä¸ªåä¸º Animal çš„ç±»ï¼Œå®ƒåŒ…æ‹¬ä¸€ä¸ªåä¸º <code>eat()</code> çš„å‡½æ•°ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">Animal</span>&#123;
  <span class="title function_">eat</span>(<span class="params"></span>) &#123;
    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Animal Eats&quot;</span>)
  &#125;
&#125;</code></pre>

<p>ç°åœ¨ï¼Œæˆ‘å°†æŠŠ Animal ç±»æ‰©å±•æˆä¸€ä¸ªåä¸ºBirdçš„æ–°ç±»ï¼Œå…¶å‡½æ•°åä¸º <code>fly()</code> ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">Bird</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;
  <span class="title function_">fly</span>(<span class="params"></span>) &#123;
    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Bird Flies&quot;</span>)
  &#125;
&#125;

<span class="keyword">var</span> parrot = <span class="keyword">new</span> <span class="title class_">Bird</span>();
parrot.<span class="title function_">eat</span>();
parrot.<span class="title function_">fly</span>();</code></pre>

<p>åœ¨ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œæˆ‘æ ¹æ® Bird ç±»åˆ›å»ºäº†ä¸€ä¸ªåä¸º parrot çš„å¯¹è±¡ï¼Œå¹¶åŒæ—¶æ‹¥æœ‰ eat å’Œ fly æ–¹æ³•ã€‚ç”±äºé¹¦é¹‰èƒ½å¤Ÿå®Œæˆè¿™ä¸¤ä¸ªåŠ¨ä½œï¼Œå› æ­¤å°† Animal ç±»æ‰©å±•åˆ° Bird ç±»å¹¶ä¸è¿åé‡Œå¼æ›¿æ¢åŸåˆ™</p>
<p>ç°åœ¨æˆ‘ä»¬è¿›ä¸€æ­¥æ‰©å±• Bird ï¼Œåˆ›å»ºäº†ä¸€ä¸ªåä¸º Ostrich çš„æ–°ç±»</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">Ostrich</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Bird</span>&#123;
  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Ostriches Do Not Fly&quot;</span>)
&#125;

<span class="keyword">var</span> ostrich = <span class="keyword">new</span> <span class="title class_">Ostrich</span>();
ostrich.<span class="title function_">eat</span>();
ostrich.<span class="title function_">fly</span>();</code></pre>

<p>è¿™ä¸ªå¯¹ Bird ç±»çš„æ‰©å±•å°±è¿åäº†é‡Œå¼æ›¿æ¢åŸåˆ™ï¼Œå› ä¸ºé¸µé¸Ÿä¸ä¼šé£è¡Œï¼Œè¿™å¯èƒ½ä¼šåœ¨åº”ç”¨ä¸­å¼•å‘æ„å¤–è¡Œä¸ºã€‚è§£å†³è¿™ä¸ªæƒ…å†µçš„æœ€ä½³æ–¹æ³•æ˜¯ä» Animal ç±»æ‰©å±• Ostrich ç±»ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">Ostrich</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Animal</span>&#123;

  <span class="title function_">walk</span>(<span class="params"></span>) &#123;
    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Ostrich Walks&quot;</span>)
  &#125;

&#125;</code></pre>

<h2 id="Interface-segregation-principle"><a href="#Interface-segregation-principle" class="headerlink" title="Interface segregation principle"></a>Interface segregation principle</h2><p>å®¢æˆ·ç«¯ä¸åº”è¯¥æ·»åŠ ä»–ä»¬æ°¸è¿œä¸ä¼šä½¿ç”¨çš„ä¾èµ–æ¥å£ã€‚</p>
<p>è¿™ä¸ªåŸåˆ™å’Œæ¥å£æœ‰å…³ï¼Œä¸»è¦æ˜¯å°†å¤§æ¥å£åˆ†ä¸ºå°æ¥å£ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡å¦‚ä½ è¦å»é©¾æ ¡å­¦ä¹ å¦‚ä½•é©¾é©¶æ±½è½¦ï¼Œä»–ä»¬ç»™ä½ ä¸€å¤§å¥—å…³äºé©¾é©¶æ±½è½¦ã€å¡è½¦ã€ç«è½¦çš„è¯´æ˜ã€‚ç”±äºä½ åªéœ€è¦å­¦ä¹ é©¾é©¶æ±½è½¦ï¼Œä½ ä¸éœ€è¦å…¶ä»–çš„ä¿¡æ¯ã€‚é©¾æ ¡å°±åº”è¯¥æŠŠè¯´æ˜åˆ†å¼€ï¼Œåªç»™ä½ ä¸“é—¨é’ˆå¯¹æ±½è½¦çš„è¯´æ˜ã€‚</p>
<p>ç”±äº JavaScript ä¸æ”¯æŒ interface ï¼Œæ‰€ä»¥åœ¨åŸºäº JavaScript çš„åº”ç”¨ä¸­å¾ˆéš¾é‡‡ç”¨è¿™ä¸€åŸåˆ™ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ JavaScript ç»„åˆæ¥å®ç°è¿™ä¸€ç‚¹ã€‚ç»„åˆå…è®¸å¼€å‘äººå‘˜åœ¨ä¸ç»§æ‰¿æ•´ä¸ªç±»çš„æƒ…å†µä¸‹æ·»åŠ åŠŸèƒ½ã€‚å‡è®¾æœ‰ä¸€ä¸ªåä¸º DrivingTest çš„ç±»ï¼Œç„¶åæœ‰ä¸¤ä¸ªåä¸º startCarTest å’Œ startTruckTest çš„å‡½æ•°ã€‚ç„¶åæˆ‘ä»¬æœ‰ CarDrivingTest å’Œ TruckDrivingTest æ‰©å±• DrivingTest ç±»ï¼Œç„¶åæˆ‘ä»¬å¿…é¡»å¼ºåˆ¶è¿™ä¸¤ä¸ªç±»å®ç° startCarTest å’Œ startTruckTest så‡½æ•°ã€‚</p>
<pre><code class="highlight js"><span class="title class_">Class</span> <span class="title class_">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">this</span>.<span class="property">userType</span> = userType;
  &#125;

  <span class="title function_">startCarTest</span>(<span class="params"></span>) &#123;
    <span class="variable language_">console</span>.<span class="title function_">log</span>(â€œ<span class="title class_">This</span> is <span class="keyword">for</span> <span class="title class_">Car</span> <span class="title class_">Drivers</span>â€â€™);
  &#125;

  <span class="title function_">startTruckTest</span>(<span class="params"></span>) &#123;
    <span class="variable language_">console</span>.<span class="title function_">log</span>(â€œ<span class="title class_">This</span> is <span class="keyword">for</span> <span class="title class_">Truck</span> <span class="title class_">Drivers</span>â€);
  &#125;
&#125;

<span class="keyword">class</span> <span class="title class_">CarDrivingTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">super</span>(userType);
  &#125;

  <span class="title function_">startCarTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> â€œ<span class="title class_">Car</span> <span class="title class_">Test</span> <span class="title class_">Started</span>â€;
  &#125;

  <span class="title function_">startTruckTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> <span class="literal">null</span>;
  &#125;
&#125;

<span class="keyword">class</span> <span class="title class_">TruckDrivingTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">super</span>(userType);
  &#125;

  <span class="title function_">startCarTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> <span class="literal">null</span>;
  &#125;

  <span class="title function_">startTruckTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> â€œ<span class="title class_">Truck</span> <span class="title class_">Test</span> <span class="title class_">Started</span>â€;
  &#125;
&#125;

<span class="keyword">const</span> carTest = <span class="keyword">new</span> <span class="title class_">CarDrivingTest</span>(carDriver );
<span class="variable language_">console</span>.<span class="title function_">log</span>(carTest.<span class="title function_">startCarTest</span>());
<span class="variable language_">console</span>.<span class="title function_">log</span>(carTest.<span class="title function_">startTruckTest</span>());

<span class="keyword">const</span> truckTest = <span class="keyword">new</span> <span class="title class_">TruckDrivingTest</span>( ruckdriver );
<span class="variable language_">console</span>.<span class="title function_">log</span>(truckTest.<span class="title function_">startCarTest</span>());
<span class="variable language_">console</span>.<span class="title function_">log</span>(truckTest.<span class="title function_">startTruckTest</span>());</code></pre>

<p>ç„¶è€Œï¼Œè¿™ç§å®ç°æ–¹æ³•è¿åäº†æ¥å£åˆ†ç¦»åŸåˆ™ï¼Œå› ä¸ºæˆ‘ä»¬å¼ºè¿«é‚£ä¸¤ä¸ªæ‰©å±•ç±»å®ç°è¿™ä¸¤ç§åŠŸèƒ½ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç»„åˆæ¥ä¸ºæ‰€éœ€çš„ç±»æ·»åŠ åŠŸèƒ½æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­ä¸­æ‰€ç¤ºã€‚</p>
<pre><code class="highlight js"><span class="title class_">Class</span> <span class="title class_">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">this</span>.<span class="property">userType</span> = userType;
  &#125;
&#125;

<span class="keyword">class</span> <span class="title class_">CarDrivingTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">super</span>(userType);
  &#125;
&#125;

<span class="keyword">class</span> <span class="title class_">TruckDrivingTest</span> <span class="keyword">extends</span> <span class="title class_ inherited__">DrivingTest</span> &#123;
  <span class="title function_">constructor</span>(<span class="params">userType</span>) &#123;
    <span class="variable language_">super</span>(userType);
  &#125;
&#125;

<span class="keyword">const</span> carUserTests = &#123;
  <span class="title function_">startCarTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> â€˜<span class="title class_">Car</span> <span class="title class_">Test</span> <span class="title class_">Started</span>â€™;
  &#125;,
&#125;;

<span class="keyword">const</span> truckUserTests = &#123;
  <span class="title function_">startTruckTest</span>(<span class="params"></span>) &#123;
    <span class="keyword">return</span> â€˜<span class="title class_">Truck</span> <span class="title class_">Test</span> <span class="title class_">Started</span>â€™;
  &#125;,
&#125;;

<span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">CarDrivingTest</span>.<span class="property"><span class="keyword">prototype</span></span>, carUserTests);
<span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="title class_">TruckDrivingTest</span>.<span class="property"><span class="keyword">prototype</span></span>, truckUserTests);

<span class="keyword">const</span> carTest = <span class="keyword">new</span> <span class="title class_">CarDrivingTest</span>(carDriver );
<span class="variable language_">console</span>.<span class="title function_">log</span>(carTest.<span class="title function_">startCarTest</span>());
<span class="variable language_">console</span>.<span class="title function_">log</span>(carTest.<span class="title function_">startTruckTest</span>()); <span class="comment">// Will throw an exception</span>

<span class="keyword">const</span> truckTest = <span class="keyword">new</span> <span class="title class_">TruckDrivingTest</span>( ruckdriver );
<span class="variable language_">console</span>.<span class="title function_">log</span>(truckTest.<span class="title function_">startTruckTest</span>());
<span class="variable language_">console</span>.<span class="title function_">log</span>(truckTest.<span class="title function_">startCarTest</span>()); <span class="comment">// Will throw an exception</span></code></pre>

<p>ç°åœ¨ï¼Œ <code>carTest.startTruckTest()</code> å°†æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ï¼Œå› ä¸º <code>startTruckTest()</code> å‡½æ•°æ²¡æœ‰åˆ†é…ç»™ CarDrivingTest ç±»ã€‚</p>
<h2 id="Dependency-inversion-principle"><a href="#Dependency-inversion-principle" class="headerlink" title="Dependency inversion principle"></a>Dependency inversion principle</h2><p>é«˜å±‚æ¨¡å—åº”è¯¥ä½¿ç”¨æŠ½è±¡åŒ–ã€‚å¹¶ä¸”ï¼Œä»–ä»¬ä¸åº”è¯¥ä¾èµ–äºä½å±‚æ¨¡å—ã€‚</p>
<p>ä¾èµ–å€’ç½®æ˜¯å…³äºè§£è€¦ä»£ç çš„ã€‚éµå¾ªè¿™ä¸ªåŸåˆ™å°†ä½¿ä½ èƒ½å¤Ÿçµæ´»åœ°åœ¨æœ€é«˜çº§åˆ«ä¸Šæ‰©å±•å’Œæ”¹å˜ä½ çš„åº”ç”¨è€Œä¸å‡ºç°ä»»ä½•é—®é¢˜ã€‚</p>
<p>å…³äºJavaScriptï¼Œæˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘æŠ½è±¡çš„é—®é¢˜ï¼Œå› ä¸ºJavaScriptæ˜¯ä¸€ç§åŠ¨æ€è¯­è¨€ã€‚ç„¶è€Œï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿é«˜å±‚æ¨¡å—ä¸ä¾èµ–äºä½å±‚æ¨¡å—ã€‚</p>
<p>æˆ‘ä»¬æ¥ç”¨ä¸€ä¸ªç®€å•çš„ä¾‹å­æ¥è§£é‡Šä¾èµ–å€’ç½®æ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚å‡è®¾ä½ åœ¨ä½ çš„åº”ç”¨ä¸­éœ€è¦ä½¿ç”¨ Yahoo çš„ email API ï¼Œç°åœ¨ä½ éœ€è¦æŠŠå®ƒæ”¹ä¸º Gmail çš„ API ã€‚å¦‚æœä½ åƒä¸‹é¢çš„ä¾‹å­ä¸€æ ·å®ç°äº†æ²¡æœ‰ä¾èµ–å€’ç½®çš„æ§åˆ¶å™¨ï¼Œä½ éœ€è¦å¯¹æ¯ä¸ªæ§åˆ¶å™¨éƒ½è¿›è¡Œä¿®æ”¹ã€‚è¿™æ˜¯å› ä¸ºå¤šä¸ªæ§åˆ¶å™¨ä½¿ç”¨äº† Yahoo API ï¼Œä½ éœ€è¦æ‰¾åˆ°æ¯ä¸ªå®ä¾‹å¹¶æ›´æ–°å®ƒã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">EmailController</span> &#123; 
  <span class="title function_">sendEmail</span>(<span class="params">emailDetails</span>) &#123; 
    <span class="comment">// Need to change this line in every controller that uses YahooAPI.const response = YahooAPI.sendEmail(emailDetails); </span>
    <span class="keyword">if</span> (response.<span class="property">status</span> == <span class="number">200</span>) &#123; 
       <span class="keyword">return</span> <span class="literal">true</span>;
    &#125; <span class="keyword">else</span> &#123;
       <span class="keyword">return</span> <span class="literal">false</span>;
    &#125;
  &#125;
&#125;</code></pre>

<p>ä¾èµ–å€’ç½®åŸåˆ™å¯ä»¥å¸®åŠ©å¼€å‘è€…é¿å…è¿™ç§é«˜æ˜‚çš„é”™è¯¯ï¼Œåœ¨è¿™ä¸ªåŸåˆ™ä¸‹ï¼Œå°† email API å¤„ç†éƒ¨åˆ†è½¬ç§»åˆ°ä¸€ä¸ªå•ç‹¬çš„æ§åˆ¶å™¨ã€‚ç„¶åä½ åªéœ€è¦åœ¨ email API å‘ç”Ÿæ”¹å˜æ—¶æ”¹å˜è¯¥æ§åˆ¶å™¨å³å¯ã€‚</p>
<pre><code class="highlight js"><span class="keyword">class</span> <span class="title class_">EmailController</span> &#123; 
  <span class="title function_">sendEmail</span>(<span class="params">emailDetails</span>) &#123; 
    <span class="keyword">const</span> response = <span class="title class_">EmailApiController</span>.<span class="title function_">sendEmail</span>(emailDetails);   
    <span class="keyword">if</span> (response.<span class="property">status</span> == <span class="number">200</span>) &#123; 
       <span class="keyword">return</span> <span class="literal">true</span>;
    &#125; <span class="keyword">else</span> &#123;
       <span class="keyword">return</span> <span class="literal">false</span>;
    &#125;
  &#125;
&#125;

<span class="keyword">class</span> <span class="title class_">EmailApiController</span> &#123;
  <span class="title function_">sendEmail</span>(<span class="params">emailDetails</span>) &#123;
    <span class="comment">// Only need to change this controller. return YahooAPI.sendEmail(emailDetails);</span>
  &#125;
&#125;</code></pre>

<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œæˆ‘ä»¬è®¨è®ºäº†åœ¨è½¯ä»¶è®¾è®¡ä¸­SOLIDåŸåˆ™çš„é‡è¦æ€§ï¼Œä»¥åŠæˆ‘ä»¬å¦‚ä½•åœ¨JavaScriptåº”ç”¨ä¸­é‡‡ç”¨è¿™äº›æ¦‚å¿µã€‚ä½œä¸ºå¼€å‘äººå‘˜ï¼Œç†è§£å¹¶åœ¨æˆ‘ä»¬çš„åº”ç”¨ä¸­ä½¿ç”¨è¿™äº›æ ¸å¿ƒæ¦‚å¿µæ˜¯å¾ˆé‡è¦çš„ã€‚æœ‰æ—¶ï¼Œåœ¨å¤„ç†ä¸€äº›å°çš„åº”ç”¨æ—¶ï¼Œè¿™äº›åŸåˆ™çš„å¥½å¤„å¯èƒ½å¹¶ä¸æ˜æ˜¾ï¼Œä½†ä¸€æ—¦ä½ å¼€å§‹åœ¨ä¸€ä¸ªå¤§è§„æ¨¡çš„é¡¹ç›®ä¸Šå·¥ä½œæ—¶ï¼Œä½ ä¸€å®šä¼šçŸ¥é“å®ƒä»¬çš„ä¸åŒã€‚</p>

</div> 

<script>
    window.onload = detectors();
</script>
    <div class="post-footer">
    <div class="h-line-primary"></div>
    <nav class="post-nav">
        <div class="prev-item">
           
                <div class="icon arrow-left"></div>
                <div class="post-link">
                    <a href="/2023/06/10/%E3%80%90%E7%BF%BB%E3%80%91Why-Japanese-Websites-Look-So-Different/">Prev</a>
                </div>
            
        </div>
        <div class="next-item">
            
                <div class="icon arrow-right"></div>
                <div class="post-link">
                  <a href="/2023/05/24/%E3%80%90%E7%BF%BB%E3%80%91Mastering-TypeScript-A-Guide-to-Choosing-Between-%E2%80%98type%E2%80%99-and-%E2%80%98interface%E2%80%99/">Next</a>  
                </div>  
            
        </div>
    </nav>
</div>

    <!-- <div class="post-toc">
  <div class="post-toc-wrap">
    <div class="post-toc-title">ç›®å½•</div>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E6%96%87"><span class="toc-text">æ­£æ–‡</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#What-are-the-SOLID-principles"><span class="toc-text">What are the SOLID principles?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Single-responsibility-principle"><span class="toc-text">Single responsibility principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Open-closed-principle"><span class="toc-text">Open-closed principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Liskov-substitution-principle"><span class="toc-text">Liskov substitution principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Interface-segregation-principle"><span class="toc-text">Interface segregation principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Dependency-inversion-principle"><span class="toc-text">Dependency inversion principle</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Conclusion"><span class="toc-text">Conclusion</span></a></li></ol></li></ol>
  </div>
</div>

<script>
  const tocLinks = document.querySelectorAll('.toc-link')
  tocLinks.forEach((el) => {
    el.setAttribute('href', `#${el.innerText}`)
  })
</script>
 -->
    
      <div class="post-comment">

     

    
        <div id="disqus_thread"></div>
        <script>
            /**
            *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
            
            var disqus_config = function () {
                this.page.url = 'https://lhrun.github.io/2023/06/02/%E3%80%90%E7%BF%BB%E3%80%91SOLID-Principles-in-JavaScript/';  // Replace PAGE_URL with your page's canonical URL variable
                this.page.identifier = '2023/06/02/ã€ç¿»ã€‘SOLID-Principles-in-JavaScript/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
                this.language = 'en'
            };
            
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = 'https://lhblog-1.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a target="_blank" rel="noopener" href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>   
     
    
    

</div>
     
  
</article>
        </div>
      </div>
      
      <div class="footer">
    <div class="flex-container">
        <div class="footer-text">
            
            
            
                Powered by <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>
                
        </div>
    </div>
</div>

    </div>

    
      <div class="search-popup">
    <div class="search-popup-overlay">  
    </div>
    <div class="search-popup-window" >
        <div class="search-header">
            <div class="search-input-container">
              <input autocomplete="off" autocapitalize="off" maxlength="80"
                     placeholder="Search Anything" spellcheck="false"
                     type="search" class="search-input">
            </div>
            <div class="search-close-btn">
                <div class="icon close-btn"></div>
            </div>
        </div>
        <div class="search-result-container">
        </div>
    </div>
</div>

<script>
    const searchConfig = {
        path             : "/search.xml",
        top_n_per_article: "1",
        unescape         : "false",
        trigger: "auto",
        preload: "false"
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script>
<script src="/js/search.js"></script>
    
    

  </body>
</html>
